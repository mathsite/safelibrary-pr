<!DOCTYPE html>
<html lang="en">
<head>
<script src="https://houselearning.github.io/cookiebanner.js"></script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Books & Videos | SafeLibrary</title>
  <style>
    /* Global box-sizing */
    * { box-sizing: border-box; }

    /* Body styling for overall layout and theme transitions */
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f9f9f9;
      color: #333;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      transition: background 0.3s, color 0.3s;
    }
    body.dark-mode { background: #121212; color: #f1f1f1; }

    /* Navbar styling for navigation links */
    .navbar {
      background-color: #20232a;
      display: flex;
      overflow-x: auto;
      white-space: nowrap;
      padding: 12px 20px;
      box-shadow: 0 2px 6px rgb(0 0 0 / 0.1);
      scrollbar-width: thin;
      scrollbar-color: #61dafb transparent;
    }
    body.dark-mode .navbar { background-color: #1e1e1e; }
    .navbar a {
      color: #61dafb;
      text-decoration: none;
      padding: 10px 18px;
      font-weight: 600;
      font-size: 14px;
      border-radius: 6px;
      flex-shrink: 0;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    .navbar a:hover { background-color: #61dafb; color: #20232a; }

    /* Announcement banner styling */
    .announcement {
      background-color: #fff3cd;
      border: 1px solid #ffeeba;
      padding: 15px;
      border-radius: 8px;
      margin: 20px auto;
      max-width: 1000px;
    }
    .announcement a { color: #856404; font-weight: bold; text-decoration: underline; }

    /* Main container for content sections */
    .container {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      gap: 20px;
      padding: 20px;
      max-width: 1200px;
      margin: 20px auto;
      width: 100%;
    }
    /* Section styling for individual content blocks */
    .section {
      background: white;
      padding: 20px 25px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgb(0 0 0 / 0.05);
      transition: background 0.3s, color 0.3s, box-shadow 0.3s;
    }
    body.dark-mode .section { background: #1e1e1e; color: #f1f1f1; box-shadow: 0 4px 12px rgba(0,0,0,0.3); }

    /* Heading 1 styling */
    h1 {
      margin-top: 0;
      font-weight: 700;
      color: #20232a;
      border-bottom: 3px solid #61dafb;
      padding-bottom: 8px;
      margin-bottom: 16px;
      font-size: 24px;
    }
    body.dark-mode h1 { color: #61dafb; }
    
    /* Search and sort container styling */
    .search-container {
      margin-bottom: 20px;
      display: flex;
      gap: 10px;
    }
    .search-container input, .search-container select {
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 16px;
    }
    .search-container input {
      flex-grow: 1;
    }
    
    /* Book list styling */
    ol {
      list-style-type: none;
      padding-left: 0;
    }

    li {
      margin-bottom: 8px;
    }

    .book-item {
      padding: 12px;
      border-radius: 6px;
      background: #f1f1f1;
      transition: background 0.3s;
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }
    body.dark-mode .book-item { background: #2c2c2c; }

    .book-item a {
      color: #20232a;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s;
    }
    body.dark-mode .book-item a { color: #f1f1f1; }
    .book-item a:hover {
      text-decoration: underline;
    }

    /* Video grid layout */
    .video-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
    }
    
    .video-item {
      background: #f1f1f1;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
      display: flex;
      flex-direction: column;
      transition: background 0.3s;
    }
    body.dark-mode .video-item { background: #2c2c2c; }

    .video-item h3 {
      margin: 0 0 10px;
      font-size: 18px;
      font-weight: 600;
    }

    .video-item video {
      width: 100%;
      border-radius: 6px;
      outline: none;
    }

    /* Theme switch button wrapper and button styling */
    .theme-switch-wrapper {
      position: fixed;
      bottom: 20px;
      right: 20px;
    }
    .theme-switch button {
      background: #61dafb;
      border: none;
      border-radius: 50%;
      width: 42px;
      height: 42px;
      font-size: 18px;
      cursor: pointer;
      box-shadow: 0 2px 6px rgb(0 0 0 / 0.1);
    }
    body.dark-mode .theme-switch button { background: #444; color: #fff; }

  </style>
</head>
<body>
  <nav class="navbar">
    <a href="https://houselearning.github.io/home/">Home</a>
    <a href="https://houselearning.github.io/home/math-page.html">Math Games</a>
    <a href="https://houselearning.github.io/home/science-page.html">Science Fun</a>
    <a href="https://houselearning.github.io/home/computer-science-page.html">Coding Challenges</a>
    <a href="https://houselearning.github.io/home/games.html">Random Games</a>
    <a href="https://houselearning.github.io/safe-library">Safe Library</a>
    <a href="https://houselearning.github.io/about">About</a>
  </nav>

  <div class="announcement">
    <strong>üõ†Ô∏è Renovation:</strong> We‚Äôre currently making updates.
    <a href="https://github.com/houselearning/developer-notes/discussions/5" target="_blank">Learn more here</a>.
  </div>

  <main class="container">
    <section class="section">
      <h1>Books</h1>
      <p>Credit: Project Gutenberg <a href="https://gutenberg.org"></a></p>

      <div class="search-container">
        <input type="text" id="bookSearchInput" placeholder="Search for books...">
        <select id="bookSortDropdown">
          <option value="default">Default</option>
          <option value="atoz">A-Z</option>
          <option value="ztoa">Z-A</option>
        </select>
      </div>

      <ol id="bookList">
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/whitenights0000dost.pdf">White Nights</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/01_The_Lightning_Thief.pdf">The Lightning Theif</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/1">The Flower Fields</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/2">The Problem Of Lay-Analyses</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/3">Minerals in Rock Sections</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/4">Raven Views I</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/5">Fredrika Bremer</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/6">A guide to the Egyptian collections in the British Museum</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/7">A journey of joy</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/8">Daredevil</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/9">The room</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/10">A text-book of veterinary anatomy</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/11">Cranford</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/12">Frankenstein</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/13">Moby Dick; or The Whale</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/14">Shakespeare</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/15">Romeo and Juliet</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/16">Pride and Prejudice</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/17">Little Women</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/18">The Expedition of Humphry Clinker</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/19">Alice's adventures in wonderland</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/20">Simple Sabotage Field Manual</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/21">The Adventures of Ferdinand Count Fathom ‚Äî Complete</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/22">The Picture of Dorian Gray</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/23">The Great Gatsby</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/24">The Enchanted April</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/25">Twenty years after</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/26">A Doll's house</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/27">The Yellow Wallpaper</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/28">Heart of Darkness</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/29">War and Peace</a></li>
        <li class="book-item"><a href="https://houselearning.github.io/safe-library/books/30">Don Quijote</a></li>
      </ol>
    </section>

    <div id="video-section"></div>
    <section class="section">
      <h1>Videos <i>(Stock Videos)</i></h1>
      <p>A collection of safe stock videos for your projects.</p>
      <p>Credit: Pixabay</p>
      
      <div class="search-container">
        <input type="text" id="videoSearchInput" placeholder="Search for videos...">
        <select id="videoSortDropdown">
          <option value="default">Default</option>
          <option value="atoz">A-Z</option>
          <option value="ztoa">Z-A</option>
        </select>
      </div>
      
      <div class="video-grid" id="video-grid">
        </div>
    </section>
  </main>

  <div class="theme-switch-wrapper">
    <button id="theme-toggle">üåô</button>
  </div>

  <script>
    const bookSearchInput = document.getElementById('bookSearchInput');
    const bookSortDropdown = document.getElementById('bookSortDropdown');
    const bookList = document.getElementById('bookList');
    const allBooks = Array.from(document.querySelectorAll('.book-item'));

    function filterAndSortBooks() {
        const searchTerm = bookSearchInput.value.toLowerCase();
        const sortValue = bookSortDropdown.value;

        // Filter the books
        const filteredBooks = allBooks.filter(item => {
            const title = item.querySelector('a').textContent.toLowerCase();
            return title.includes(searchTerm);
        });

        // Sort the filtered books
        filteredBooks.sort((a, b) => {
            const textA = a.querySelector('a').textContent.toLowerCase();
            const textB = b.querySelector('a').textContent.toLowerCase();

            if (sortValue === 'atoz') {
                return textA.localeCompare(textB);
            } else if (sortValue === 'ztoa') {
                return textB.localeCompare(textA);
            }
            // For 'default', use the original array order
            return allBooks.indexOf(a) - allBooks.indexOf(b);
        });

        // Clear the current list
        bookList.innerHTML = '';

        // Append the sorted and filtered books
        filteredBooks.forEach(item => bookList.appendChild(item));
    }

    bookSearchInput.addEventListener('input', filterAndSortBooks);
    bookSortDropdown.addEventListener('change', filterAndSortBooks);

    const videoLinks = [
        "https://houselearning.github.io/safe-library/media/1.mp4",
        "https://houselearning.github.io/safe-library/media/2.mp4",
        "https://houselearning.github.io/safe-library/media/3.mp4",
        "https://houselearning.github.io/safe-library/media/4.mp4",
        "https://houselearning.github.io/safe-library/media/5.mp4",
        "https://houselearning.github.io/safe-library/media/6.mp4",
        "https://houselearning.github.io/safe-library/media/7.mp4",
        "https://houselearning.github.io/safe-library/media/8.mp4",
        "https://houselearning.github.io/safe-library/media/9.mp4",
        "https://houselearning.github.io/safe-library/media/10.mp4",
        "https://houselearning.github.io/safe-library/media/11.mp4",
        "https://houselearning.github.io/safe-library/media/12.mp4",
        "https://houselearning.github.io/safe-library/media/13.mp4",
        "https://houselearning.github.io/safe-library/media/14.mp4",
        "https://houselearning.github.io/safe-library/media/15.mp4",
        "https://houselearning.github.io/safe-library/media/16.mp4",
        "https://houselearning.github.io/safe-library/media/17.mp4",
        "https://houselearning.github.io/safe-library/media/18.mp4",
        "https://houselearning.github.io/safe-library/media/19.mp4",
        "https://houselearning.github.io/safe-library/media/20.mp4",
        "https://houselearning.github.io/safe-library/media/21.mp4",
        "https://houselearning.github.io/safe-library/media/22.mp4",
        "https://houselearning.github.io/safe-library/media/23.mp4",
        "https://houselearning.github.io/safe-library/media/24.mp4",
        "https://houselearning.github.io/safe-library/media/25.mp4",
        "https://houselearning.github.io/safe-library/media/26.mp4",
        "https://houselearning.github.io/safe-library/media/27.mp4",
        "https://houselearning.github.io/safe-library/media/28.mp4",
        "https://houselearning.github.io/safe-library/media/29.mp4",
        "https://houselearning.github.io/safe-library/media/30.mp4",
        "https://houselearning.github.io/safe-library/media/31.mp4",
        "https://houselearning.github.io/safe-library/media/32.mp4",
        "https://houselearning.github.io/safe-library/media/33.mp4",
        "https://houselearning.github.io/safe-library/media/34.mp4",
        "https://houselearning.github.io/safe-library/media/35.mp4",
        "https://houselearning.github.io/safe-library/media/36.mp4",
        "https://houselearning.github.io/safe-library/media/37.mp4",
        "https://houselearning.github.io/safe-library/media/38.mp4",
        "https://houselearning.github.io/safe-library/media/39.mp4",
        "https://houselearning.github.io/safe-library/media/40.mp4",
        "https://houselearning.github.io/safe-library/media/41.mp4",
        "https://houselearning.github.io/safe-library/media/42.mp4",
        "https://houselearning.github.io/safe-library/media/43.mp4",
        "https://houselearning.github.io/safe-library/media/44.mp4",
        "https://houselearning.github.io/safe-library/media/45.mp4",
        "https://houselearning.github.io/safe-library/media/46.mp4",
        "https://houselearning.github.io/safe-library/media/47.mp4",
        "https://houselearning.github.io/safe-library/media/48.mp4",
        "https://houselearning.github.io/safe-library/media/49.mp4",
        "https://houselearning.github.io/safe-library/media/50.mp4",
        "https://houselearning.github.io/safe-library/media/about_film.mp4"
    ];

    function createVideoTitle(link) {
      const parts = link.split('/');
      const filename = parts[parts.length - 1];
      const nameWithoutExtension = filename.replace(/\.mp4$/, '');
      const formattedName = nameWithoutExtension.replace(/_|-/g, ' ').replace(/\b\w/g, c => c.toUpperCase());
      return formattedName;
    }

    function createVideoItem(link) {
      const videoItem = document.createElement('div');
      videoItem.className = 'video-item';

      const title = createVideoTitle(link);
      const titleElement = document.createElement('h3');
      titleElement.textContent = title;

      const videoElement = document.createElement('video');
      videoElement.controls = true;
      videoElement.preload = "none";
      videoElement.src = link;

      videoItem.appendChild(titleElement);
      videoItem.appendChild(videoElement);
      return videoItem;
    }

    function renderVideos(videos) {
      const videoGrid = document.getElementById('video-grid');
      videoGrid.innerHTML = '';
      videos.forEach(video => {
        videoGrid.appendChild(video);
      });
    }

    // Initial setup
    const initialVideos = videoLinks.map(link => createVideoItem(link));
    renderVideos(initialVideos);

    const videoSearchInput = document.getElementById('videoSearchInput');
    const videoSortDropdown = document.getElementById('videoSortDropdown');

    function filterAndSortVideos() {
      const searchTerm = videoSearchInput.value.toLowerCase();
      const sortValue = videoSortDropdown.value;
      const allVideoItems = Array.from(document.querySelectorAll('.video-item'));

      // Filter the video items
      const filteredVideos = allVideoItems.filter(item => {
        const title = item.querySelector('h3').textContent.toLowerCase();
        return title.includes(searchTerm);
      });

      // Sort the filtered videos
      if (sortValue === 'atoz') {
        filteredVideos.sort((a, b) => {
          const textA = a.querySelector('h3').textContent.toLowerCase();
          const textB = b.querySelector('h3').textContent.toLowerCase();
          return textA.localeCompare(textB);
        });
      } else if (sortValue === 'ztoa') {
        filteredVideos.sort((a, b) => {
          const textA = a.querySelector('h3').textContent.toLowerCase();
          const textB = b.querySelector('h3').textContent.toLowerCase();
          return textB.localeCompare(textA);
        });
      }

      // Re-render the videos
      renderVideos(filteredVideos);
    }

    videoSearchInput.addEventListener('input', filterAndSortVideos);
    videoSortDropdown.addEventListener('change', filterAndSortVideos);

    // Theme toggle functionality
    const btn = document.getElementById('theme-toggle');
    btn.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
    });
  </script>
</body>
</html>
